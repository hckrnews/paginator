{"version":3,"file":"paginator.umd.js","sources":["../src/paginator.js"],"sourcesContent":["/**\n * The paginator.\n */\nclass Paginator {\n    constructor() {\n        this.items = [];\n        this.page = 0;\n        this.size = 10;\n        this.url = null;\n    }\n\n    /**\n     * Get the total of pages.\n     *\n     * @return {number}\n     */\n    get pages() {\n        return Math.ceil(this.total / this.size);\n    }\n\n    /**\n     * Get the previous page.\n     *\n     * @return {number}\n     */\n    get prev() {\n        return this.page > 0 ? this.page - 1 : null;\n    }\n\n    /**\n     * Get the next page.\n     *\n     * @return {number}\n     */\n    get next() {\n        return this.page !== null && this.end < this.total\n            ? this.page + 1\n            : null;\n    }\n\n    /**\n     * Get the start item index.\n     *\n     * @return {number}\n     */\n    get start() {\n        return this.page * this.size;\n    }\n\n    /**\n     * Get the end item index.\n     *\n     * @return {number}\n     */\n    get end() {\n        return this.start + this.size;\n    }\n\n    /**\n     * Get the current items.\n     *\n     * @return {array}\n     */\n    get current() {\n        return this.items.slice(this.start, this.end);\n    }\n\n    /**\n     * Get the total items.\n     *\n     * @return {number}\n     */\n    get total() {\n        return this.items.length;\n    }\n\n    /**\n     * Get the connector in the url.\n     *\n     * @return {string}\n     */\n    get connectorUrl() {\n        return this.url &&\n            (this.url.includes('&') ||\n                (this.url.includes('?') && !this.url.includes('&')))\n            ? '&'\n            : '?';\n    }\n\n    /**\n     * Get the next page url\n     *\n     * @return {string}\n     */\n    get nextPage() {\n        return this.url && this.next !== null\n            ? `${this.url}${this.connectorUrl}size=${this.size}&page=${this.next}`\n            : null;\n    }\n\n    /**\n     * Get the current page url\n     *\n     * @return {string}\n     */\n    get currentPage() {\n        return this.url && this.page !== null\n            ? `${this.url}${this.connectorUrl}size=${this.size}&page=${this.page}`\n            : null;\n    }\n\n    /**\n     * Get the previous page url\n     *\n     * @return {string}\n     */\n    get prevPage() {\n        return this.url && this.prev !== null\n            ? `${this.url}${this.connectorUrl}size=${this.size}&page=${this.prev}`\n            : null;\n    }\n\n    /**\n     * Get the pagination data\n     *\n     * @return {object}\n     */\n    get data() {\n        return {\n            _links: {\n                self: this.currentPage,\n                prev: this.prevPage,\n                next: this.nextPage,\n            },\n            count: this.total,\n            pages: this.pages,\n            size: this.size,\n            page: this.page,\n            result: this.current,\n        };\n    }\n\n    /**\n     * Set the items\n     *\n     * @param {array} items\n     *\n     * @return {Paginator}\n     */\n    setItems(items) {\n        if (items === null || items.constructor.name !== 'Array') {\n            throw new TypeError('items is not an array');\n        }\n\n        this.items = items;\n\n        return this;\n    }\n\n    /**\n     * Check if the page is valid.\n     *\n     * @param {number} page\n     *\n     * @return {boolean}\n     */\n    isValidPage(page) {\n        return page < this.pages && page >= 0;\n    }\n\n    /**\n     * Set the page\n     *\n     * @param {number} page\n     *\n     * @return {Paginator}\n     */\n    setPage(page) {\n        if (page !== null && page.constructor.name !== 'Number') {\n            throw new TypeError('page is not a valid number');\n        }\n\n        if (page !== null && !this.isValidPage(page)) {\n            throw new RangeError('page is not a valid number');\n        }\n\n        this.page = page || this.page;\n\n        return this;\n    }\n\n    /**\n     * Set the page size\n     *\n     * @param {number} size\n     *\n     * @return {Paginator}\n     */\n    setSize(size) {\n        if (size !== null && (size.constructor.name !== 'Number' || size < 1)) {\n            throw new TypeError('size is not a valid positive number');\n        }\n\n        this.size = size || this.size;\n\n        return this;\n    }\n\n    /**\n     * Set the url\n     *\n     * @param {string} url\n     *\n     * @return {Paginator}\n     */\n    setUrl(url) {\n        if (url !== null && url.constructor.name !== 'String') {\n            throw new TypeError('url is not a valid string');\n        }\n\n        this.url = url || this.url;\n\n        return this;\n    }\n}\n\n/**\n * Create Pagination with the paginator builder\n *\n * @param {array} items\n * @param {number|null} page\n * @param {number|null} size\n * @param {string|null} url\n *\n * @return {Paginator}\n */\nconst PaginatorBuilder = ({ items, page = null, size = null, url = null }) => {\n    const paginator = new Paginator();\n\n    paginator.setItems(items).setSize(size).setPage(page).setUrl(url);\n\n    return paginator;\n};\n\nexport default PaginatorBuilder;\n"],"names":["Paginator","constructor","items","page","size","url","pages","Math","ceil","total","prev","next","end","start","current","slice","length","connectorUrl","includes","nextPage","currentPage","prevPage","data","_links","self","count","result","setItems","name","TypeError","isValidPage","setPage","RangeError","setSize","setUrl","PaginatorBuilder","paginator"],"mappings":"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"}